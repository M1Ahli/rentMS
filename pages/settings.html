<section class="view hidden" id="settings-view">
<h2 class="text-2xl font-bold mb-6 text-gray-800 dark:text-white">ุฅุนุฏุงุฏุงุช ุงููุธุงู</h2>
<div class="grid grid-cols-1 md:grid-cols-1 gap-6">
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm">
<h3 class="font-bold mb-4 flex items-center gap-2">๐ฆ ุงููุณุฎ ุงูุงุญุชูุงุทู (Backup)</h3>
<p class="text-sm text-gray-500 dark:text-gray-400 mb-4">ูู ุจุชุตุฏูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงููุงูู ููุญูุงุธ ุนูููุง ุฃู ููููุง.</p>
<div class="flex flex-wrap gap-2">
<button class="btn-ui btn-filter" onclick="exportBackupJSON()">โฌ๏ธ ุชุตุฏูุฑ (JSON)</button>
<button class="btn-ui btn-success" onclick="exportBackupExcel()">โฌ๏ธ ุชุตุฏูุฑ (Excel)</button>
</div>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm">
<h3 class="font-bold mb-4 flex items-center gap-2">๐ฅ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช</h3>
<p class="text-sm text-gray-500 dark:text-gray-400 mb-4">ุงุณุชุฑุฌุน ุจูุงูุงุชู ูู ููู JSON ูุญููุธ ูุณุจูุงู.</p>
<input class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 mb-3" id="backup-file" onchange="importBackup(event)" type="file"/>
<p class="text-xs h-4" id="backup-msg"></p>
</div>

<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm" id="storage-diag-card">
  <div class="flex items-start justify-between gap-3 flex-wrap">
    <div>
      <h3 class="font-bold mb-1 flex items-center gap-2">๐ ุชุดุฎูุต ุงูุชุฎุฒูู</h3>
      <p class="text-sm text-gray-500 dark:text-gray-400">
        ูุนุฑุถ ุญุงูุฉ ุงุณุชุฑุฌุงุน/ุญูุธ ุงูุจูุงูุงุช ุฏุงุฎู ุงููุชุตูุญ (Originุ ุญุฌู ุงูุจูุงูุงุชุ ููุช ุขุฎุฑ ุญูุธ). ูููุฏ ุฃุซูุงุก ุงูุชุทููุฑ.
      </p>
    </div>
    <div class="flex gap-2 flex-wrap">
      <button class="btn-ui btn-secondary" id="storage-diag-refresh" type="button">ุชุญุฏูุซ</button>
      <button class="btn-ui btn-filter" id="storage-diag-copy" type="button">ูุณุฎ ุงูุชุดุฎูุต</button>
    </div>
  </div>
  <p class="mt-2 text-[11px] text-amber-600" id="storage-diag-warn"></p>
  <div class="mt-4" id="storage-diag-box">
    <div class="text-sm text-gray-500 dark:text-gray-400">ุงูุชุญ ุงูุฅุนุฏุงุฏุงุช ุซู ุงุถุบุท โุชุญุฏูุซโ.</div>
  </div>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm" id="health-check-card">
<div class="flex items-start justify-between gap-3 flex-wrap">
<div>
<h3 class="font-bold mb-1 flex items-center gap-2">๐งช ูุญุต ุณูุงูุฉ ุงูุจูุงูุงุช</h3>
<p class="text-sm text-gray-500 dark:text-gray-400">
                ูููู ุจูุญุต ุงูุฑูุงุจุท ูุงููุจุงูุบ ูุงูุชูุงุฑูุฎ ูุงูุชูุฑุงุฑ ููุนุฑุถ ุชูุฑูุฑูุง. (ูุง ูุบููุฑ ุงูุจูุงูุงุช ุฅูุง ุนูุฏ ุงุฎุชูุงุฑ โุฅุตูุงุญ ุขููโ)
              </p>
</div>
<div class="flex gap-2 flex-wrap">
<button class="btn-ui btn-filter" onclick="runHealthCheck()">ุชุดุบูู ุงููุญุต</button>
<button class="btn-ui btn-secondary" onclick="downloadHealthReport()">ุชุญููู ุงูุชูุฑูุฑ</button>
<button class="btn-ui btn-success" onclick="applySafeDataFixes()">ุฅุตูุงุญ ุขูู</button>
</div>
</div>
<div class="mt-4" id="health-report-box">
<div class="text-sm text-gray-500 dark:text-gray-400">ูู ูุชู ุชุดุบูู ุงููุญุต ุจุนุฏ.</div>
</div>
<p class="mt-3 text-[11px] text-gray-500 dark:text-gray-400">
            โุฅุตูุงุญ ุขููโ ูููู ููุท ุจุชุทุจูุน ุงูููู (Trim/ุฃุฑูุงู ุนุฑุจูุฉโุฅูุฌููุฒูุฉ/ุชุญููู ูุจุงูุบ ุฅูู ุฃุฑูุงู/ุชุซุจูุช ุงูุญููู ุงูููููุฏุฉ) ุจุฏูู ุญุฐู ุจูุงูุงุช.
          </p>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm">
<div class="flex items-start justify-between gap-3 flex-wrap">
<div>
<h3 class="font-bold mb-1 flex items-center gap-2">๐ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู</h3>
<p class="text-sm text-gray-500 dark:text-gray-400">
                ูุญุชูุธ ุงููุธุงู ุชููุงุฆููุง ุจุขุฎุฑ <b>3</b> ูุณุฎ ุฏุงุฎู ุงููุชุตูุญ. (ูุง ูุบูู ุนู ุงูุชุตุฏูุฑ JSON)
              </p>
</div>
<div class="flex gap-2 flex-wrap">
<button class="btn-ui btn-secondary" onclick="createAutoBackupNow()">ุฅูุดุงุก ูุณุฎุฉ ุงูุขู</button>
<button class="btn-ui btn-reset" onclick="clearAutoBackups()">ูุณุญ ุงููุณุฎ</button>
</div>
</div>
<div class="mt-4" id="auto-backup-list">
<div class="text-sm text-gray-500 dark:text-gray-400">ูุง ุชูุฌุฏ ูุณุฎ ุชููุงุฆูุฉ ุจุนุฏ.</div>
</div>
<p class="mt-3 text-[11px] text-gray-500 dark:text-gray-400">
            ููุงุญุธุฉ: ูุชู ุฅูุดุงุก ูุณุฎุฉ ุชููุงุฆูุฉ ุนูุฏ ุชุบููุฑุงุช ุงูุจูุงูุงุชุ ูุจุญุฏ ุฃูุตู ูุฑุฉ ูู ุฏูููุฉ ูุชูููู ุงูุถุบุท.
          </p>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm" id="perf-settings-card">
<div class="flex items-start justify-between gap-3 flex-wrap">
<div>
<h3 class="font-bold mb-1 flex items-center gap-2">โก ุฅุนุฏุงุฏุงุช ุงูุฃุฏุงุก</h3>
<p class="text-sm text-gray-500 dark:text-gray-400">
                ุฅุนุฏุงุฏุงุช ุงุฎุชูุงุฑูุฉ ูุชุญุณูู ุงูุณูุงุณุฉ. (ูุง ุชุคุซุฑ ุนูู ุงูุจูุงูุงุช)
              </p>
</div>
</div>
<div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">
<label class="block">
<span class="text-xs font-bold text-gray-600 dark:text-gray-300">ุชุฃุฎูุฑ ุงูุจุญุซ ุฃุซูุงุก ุงููุชุงุจุฉ (Debounce)</span>
<select class="mt-2 w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/40 text-sm" id="perf-debounce" onchange="applyPerfSettingsFromUI()">
<option value="0">ุจุฏูู ุชุฃุฎูุฑ</option>
<option value="150">150ms</option>
<option value="220">220ms (ุงูุชุฑุงุถู)</option>
<option value="300">300ms</option>
<option value="450">450ms</option>
</select>
</label>
<label class="block">
<span class="text-xs font-bold text-gray-600 dark:text-gray-300">ูุงุตู ุงููุณุฎ ุงูุชููุงุฆู</span>
<select class="mt-2 w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white/70 dark:bg-gray-900/40 text-sm" id="perf-autobackup-interval" onchange="applyPerfSettingsFromUI()">
<option value="30">ูู 30 ุซุงููุฉ</option>
<option value="60">ูู ุฏูููุฉ (ุงูุชุฑุงุถู)</option>
<option value="120">ูู ุฏูููุชูู</option>
<option value="300">ูู 5 ุฏูุงุฆู</option>
</select>
</label>
<div class="block">
<span class="text-xs font-bold text-gray-600 dark:text-gray-300">ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู</span>
<div class="mt-2 flex items-center justify-between gap-3 p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white/60 dark:bg-gray-900/35">
<div class="text-sm text-gray-700 dark:text-gray-200">ุญูุธ ุขุฎุฑ 3 ูุณุฎ ุฏุงุฎู ุงููุชุตูุญ</div>
<label class="inline-flex items-center cursor-pointer select-none">
<input class="sr-only" id="perf-autobackup-enabled" onchange="applyPerfSettingsFromUI()" type="checkbox"/>
<span class="relative w-11 h-6 rounded-full bg-gray-300 dark:bg-gray-700 transition">
<span class="absolute top-0.5 right-0.5 w-5 h-5 rounded-full bg-white shadow transition" id="perf-autobackup-knob"></span>
</span>
</label>
</div>
</div>
</div>
<p class="mt-3 text-[11px] text-gray-500 dark:text-gray-400">
            ูุตูุญุฉ: ุฅุฐุง ูุฏูู ุจูุงูุงุช ูุซูุฑุฉ ุฌุฏูุงุ ุงุชุฑู Debounce ุนูู 220ms ูุชุญุณูู ุงูุณูุงุณุฉ.
          </p>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm">
<h3 class="font-bold mb-4 flex items-center gap-2">๐ฐ ุทุฑููุฉ ุงุญุชุณุงุจ ุงูุฅูุฌุงุฑ</h3>
<p class="text-sm text-gray-500 dark:text-gray-400 mb-4">ุงุฎุชุฑ ูู ูููุฉ ุงูุฅูุฌุงุฑ ุงููุฏุฎูุฉ ูููุญุฏุฉ ุชูุซู ูุจูุบูุง ุณููููุง ุฃู ูููุฉ ุงูุนูุฏ ูุงููุฉ. ุณูุคุซุฑ ูุฐุง ุนูู ููุญุฉ ุงููุนูููุงุช ูุงูุชูุงุฑูุฑ.</p>
<label class="block text-sm font-semibold mb-2">ุงููููุฉ ุชูุซู</label>
<select class="w-full border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2 bg-white dark:bg-gray-800 dark:text-white" id="rent-basis-select" onchange="saveRentBasisSetting()">
<option value="total">ูููุฉ ุงูุนูุฏ ูุงููุฉ</option>
<option value="annual">ุฅูุฌุงุฑ ุณููู</option>
</select>
<p class="text-xs text-gray-400 mt-2">ููุงุญุธุฉ: ุฅุฐุง ุงุฎุชุฑุช "ุฅูุฌุงุฑ ุณููู" ูุณูุชู ุถุฑุจู ูู ูุฏุฉ ุงูุนูุฏ ุงููุนููุฉ.</p>
</div>
<div class="bg-white dark:bg-dark-surface p-6 rounded-xl shadow-sm border border-rose-100 dark:border-rose-900">
<h3 class="font-bold mb-4 text-rose-700">โ๏ธ ููุทูุฉ ุงูุฎุทุฑ</h3>
<button class="btn-ui btn-reset w-full" onclick="if(confirm('ูู ุฃูุช ูุชุฃูุฏ ุชูุงูุงูุ ุณูุชู ุญุฐู ูู ุดูุก ูุชูุฑูุบ ุงููุธุงู!')) clearAllData()">๐๏ธ ูุฑูุชู ุงููุธุงู (ุญุฐู ุฌููุน ุงูุจูุงูุงุช)</button>
</div>
</div>
</section>
