<section class="view hidden" id="properties-view">
<div class="flex flex-wrap items-center justify-between mb-6 gap-4">
<h2 class="text-2xl font-bold text-gray-800 dark:text-white">ุงูุนูุงุฑุงุช ูุงููุญุฏุงุช</h2>
<div class="ui-toolbar" aria-label="ุฃุฏูุงุช ุงูุนูุงุฑุงุช">

  <div class="ui-toolbar-row ui-toolbar-row1" aria-label="ุจุญุซ ูุฅุฌุฑุงุกุงุช">
    <button class="btn-ui btn-success" onclick="openPropertyModal()"><span>+</span> ุฅุถุงูุฉ ุนูุงุฑ</button>

    <div class="ui-control prop-expand-group" aria-label="ุชูุณูุน/ุทู ุงูุนูุงุฑุงุช">
      <button class="btn-ui btn-ui-sm" onclick="expandAllProperties()" title="ุชูุณูุน ุงููู">๐ฝ ุชูุณูุน</button>
      <span class="ui-ctl-divider" aria-hidden="true"></span>
      <button class="btn-ui btn-ui-sm" onclick="collapseAllProperties()" title="ุทู ุงููู">โ๏ธ ุทู</button>
    </div>

    <div class="ui-control ui-search-wrap rtl prop-search-wrap" aria-label="ุจุญุซ ุงูุนูุงุฑุงุช ูุงููุญุฏุงุช">
      <span aria-hidden="true" class="ui-search-icon keep-icon">๐</span>
      <input class="ui-field ui-ctl-input prop-search-input" id="prop-search" oninput="renderPropertiesDebounced()" placeholder="ุจุญุซ ุณุฑูุน..." type="text"/>
    </div>

    <button class="btn-ui btn-filter" id="prop-filters-toggle" onclick="togglePropertiesUnitFilters()">๐งฐ ููุงุชุฑ ุงููุญุฏุงุช</button>
  </div>

  <div class="ui-toolbar-row ui-toolbar-row2" aria-label="ุงููุฑุฒ">
    <div class="ui-control ui-sort-pill prop-sort-pill" aria-label="ูุฑุฒ ุงูุนูุงุฑุงุช">
      <span class="ui-label">ูุฑุฒ ุงูุนูุงุฑุงุช</span>
      <select class="ui-field ui-select" id="prop-sort-by" onchange="onPropSortChanged()">
      <option value="name">ุงูุงุณู</option>
      <option value="units">ุนุฏุฏ ุงููุญุฏุงุช</option>
      <option value="location">ุงููููุน</option>
      <option value="id">ุงููุนุฑู</option>
    </select>
      <button class="btn-ui btn-icon" data-dir="asc" id="prop-sort-dir" onclick="togglePropSortDir()" title="ุนูุณ ุชุฑุชูุจ ูุฑุฒ ุงูุนูุงุฑุงุช">โฌ๏ธ</button>
    </div>

    <div class="ui-control ui-sort-pill unit-sort-pill" aria-label="ูุฑุฒ ุงููุญุฏุงุช">
      <span class="ui-label">ูุฑุฒ ุงููุญุฏุงุช</span>
      <select class="ui-field ui-select" id="unit-sort-by" onchange="onUnitSortChanged()">
      <option value="unitName">ุงุณู ุงููุญุฏุฉ</option>
      <option value="unitId">ุฑูู ุงููุญุฏุฉ (UNT)</option>
      <option value="status">ุงูุญุงูุฉ</option>
      <option value="tenant">ุงููุณุชุฃุฌุฑ</option>
      <option value="rent">ุงููููุฉ</option>
    </select>
      <button class="btn-ui btn-icon" data-dir="asc" id="unit-sort-dir" onclick="toggleUnitSortDir()" title="ุนูุณ ุชุฑุชูุจ ูุฑุฒ ุงููุญุฏุงุช">โฌ๏ธ</button>
    </div>
  </div>

</div>
</div>

<div class="hidden mb-4 ui-controls-bar ui-advbar" id="prop-filters-panel">
  <div class="ui-control ui-stack">
    <label class="ui-label" for="unit-status-filter">ุญุงูุฉ ุงููุญุฏุฉ</label>
    <select class="ui-field ui-select" id="unit-status-filter">
      <option value="">ุงููู</option>
      <option value="ุดุงุบุฑุฉ">ุดุงุบุฑุฉ</option>
      <option value="ูุคุฌุฑุฉ">ูุคุฌุฑุฉ</option>
    </select>
  </div>

  <div class="ui-control ui-stack">
    <label class="ui-label" for="unit-end-from">ููุงูุฉ ุงูุนูุฏ (ูู)</label>
    <input class="ui-field" id="unit-end-from" type="date"/>
  </div>

  <div class="ui-control ui-stack">
    <label class="ui-label" for="unit-end-to">ููุงูุฉ ุงูุนูุฏ (ุฅูู)</label>
    <input class="ui-field" id="unit-end-to" type="date"/>
  </div>

  <button class="btn-ui btn-reset" id="prop-filters-reset" onclick="resetPropertiesUnitFilters()">ุฅุนุงุฏุฉ ุถุจุท</button>
  <div class="ui-advbar-meta" id="prop-filters-hint"></div>
</div>
<!-- Quick Stats (Units) -->
<div class="mb-4 grid grid-cols-2 md:grid-cols-3 gap-3" id="prop-units-stats">
<div class="bg-white dark:bg-dark-surface border border-gray-100 dark:border-gray-700 rounded-2xl p-4 shadow-sm">
<div class="flex items-center justify-between">
<div class="text-xs text-gray-500 dark:text-gray-400">ุดุงุบุฑุฉ</div>
<span class="h-2.5 w-2.5 rounded-full bg-amber-500"></span>
</div>
<div class="mt-2 text-2xl font-extrabold text-gray-800 dark:text-white" id="stat-vacant">0</div>
</div>
<div class="bg-white dark:bg-dark-surface border border-gray-100 dark:border-gray-700 rounded-2xl p-4 shadow-sm">
<div class="flex items-center justify-between">
<div class="text-xs text-gray-500 dark:text-gray-400">ูุคุฌุฑุฉ</div>
<span class="h-2.5 w-2.5 rounded-full bg-emerald-500"></span>
</div>
<div class="mt-2 text-2xl font-extrabold text-gray-800 dark:text-white" id="stat-rented">0</div>
</div>
<div class="bg-white dark:bg-dark-surface border border-gray-100 dark:border-gray-700 rounded-2xl p-4 shadow-sm">
<div class="flex items-center justify-between">
<div class="text-xs text-gray-500 dark:text-gray-400">ุงููุนุฑูุถุฉ</div>
<span class="text-[10px] text-gray-400 dark:text-gray-500 font-mono"><span id="stat-shown">0</span>/<span id="stat-total">0</span></span>
</div>
<div class="mt-2 text-2xl font-extrabold text-gray-800 dark:text-white"><span id="stat-shown-big">0</span></div>
</div>
</div>
<div class="space-y-6" id="properties-container"></div>
</section>
