<section class="view hidden" id="police_cases-view">
  <div class="flex flex-wrap items-center justify-between mb-6 gap-4">
    <h2 class="text-2xl font-bold text-gray-800 dark:text-white">ุจูุงุบุงุช ุงูุดุฑุทุฉ ูุงูุฏุนุงูู ุงููุถุงุฆูุฉ</h2>
    <button class="btn-ui btn-success" onclick="openCaseModal()" type="button"><span>+</span> ุฅุถุงูุฉ ุจูุงุบ/ุฏุนูู</button>
  </div>

  <!-- Advanced Search & Sort: Police/Court Cases -->
  <div class="ui-toolbar" id="cases-advanced-bar" aria-label="ุดุฑูุท ุงูุจุญุซ ูุงููุฑุฒ">
    <div class="ui-toolbar-row ui-toolbar-row1" aria-label="ุจุญุซ ูุฅุฌุฑุงุกุงุช">
      <button class="btn-ui btn-filter" id="cases-toggle-filters" onclick="toggleCasesFiltersPanel()" type="button">๐งฐ ุงูููุงุชุฑ ุงููุชูุฏูุฉ</button>

      <div class="ui-control ui-search-wrap rtl" aria-label="ุจุญุซ ุงูุจูุงุบุงุช ูุงูุฏุนุงูู" role="search">
        <span aria-hidden="true" class="ui-search-icon">๐</span>
        <input aria-label="ุจุญุซ ุณุฑูุน" class="ui-field ui-ctl-input ui-search-input" id="cases-search-input"
               oninput="onCasesAdvancedChangedDebounced()"
               placeholder="ุจุญุซ: ุฑูู ุงูุจูุงุบ/ุงููุถูุฉุ ุงููุณุชุฃุฌุฑุ ุงููุญุฏุฉุ ุงูุฌูุฉุ ุงูุญุงูุฉ..." type="text"/>
      </div>
    </div>

    <div class="ui-toolbar-row ui-toolbar-row2" aria-label="ุงููุฑุฒ">
      <div class="ui-control ui-sort-pill" aria-label="ูุฑุฒ ุงูุจูุงุบุงุช ูุงูุฏุนุงูู">
        <span class="ui-label">ูุฑุฒ</span>
        <select aria-label="ุชุฑุชูุจ ุงููุฑุฒ" class="ui-field ui-select" id="cases-sort-by" onchange="onCasesAdvancedChanged()">
          <option value="date">ุชุงุฑูุฎ ุงูุจูุงุบ/ุงููุถูุฉ</option>
          <option value="nextEvent">ุฃูุฑุจ ููุนุฏ</option>
          <option value="status">ุงูุญุงูุฉ</option>
          <option value="type">ุงูููุน</option>
          <option value="number">ุงูุฑูู</option>
          <option value="tenant">ุงููุณุชุฃุฌุฑ</option>
          <option value="unit">ุงููุญุฏุฉ</option>
          <option value="property">ุงูุนูุงุฑ</option>
        </select>
        <button class="btn-ui btn-icon" data-dir="asc" id="cases-sort-dir" onclick="toggleCasesSortDir()" title="ุนูุณ ุชุฑุชูุจ ุงููุฑุฒ" type="button">โฌ๏ธ</button>
      </div>

      <div class="ui-advbar-meta">
        <div class="text-xs text-gray-500 dark:text-gray-400" id="cases-filter-hint"></div>
      </div>
    </div>
  </div>

  <!-- Advanced Filters Panel -->
  <div aria-label="ุงูููุงุชุฑ ุงููุชูุฏูุฉ" class="ui-toolbar-panel hidden" id="cases-filters-panel">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-type">ุงูููุน</label>
        <select class="ui-field ui-select" id="cases-filter-type" onchange="onCasesAdvancedChanged()">
          <option value="">ุงููู</option>
          <option value="ุจูุงุบ">ุจูุงุบ ุดุฑุทุฉ</option>
          <option value="ุฏุนูู">ุฏุนูู ูุถุงุฆูุฉ</option>
        </select>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-status">ุงูุญุงูุฉ</label>
        <select class="ui-field ui-select" id="cases-filter-status" onchange="onCasesAdvancedChanged()">
          <option value="">ุงููู</option>
          <option value="ููุชูุญุฉ">ููุชูุญุฉ</option>
          <option value="ููุฏ ุงููุชุงุจุนุฉ">ููุฏ ุงููุชุงุจุนุฉ</option>
          <option value="ูุบููุฉ">ูุบููุฉ</option>
        </select>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-authority">ุงูุฌูุฉ/ุงููุญููุฉ</label>
        <input class="ui-field" id="cases-filter-authority" oninput="onCasesAdvancedChangedDebounced()" placeholder="ุดุฑุทุฉ ุฏุจู / ูุญููุฉ..." type="text"/>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-tenant">ุงููุณุชุฃุฌุฑ</label>
        <input class="ui-field" id="cases-filter-tenant" oninput="onCasesAdvancedChangedDebounced()" placeholder="ุงุณู ุงููุณุชุฃุฌุฑ..." type="text"/>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-property">ุงูุนูุงุฑ</label>
        <input class="ui-field" id="cases-filter-property" oninput="onCasesAdvancedChangedDebounced()" placeholder="ุงุณู/ุฑูุฒ ุงูุนูุงุฑ..." type="text"/>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label" for="cases-filter-unit">ุงููุญุฏุฉ</label>
        <input class="ui-field" id="cases-filter-unit" oninput="onCasesAdvancedChangedDebounced()" placeholder="ุงุณู/ุฑูู ุงููุญุฏุฉ..." type="text"/>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label">ุงูุชุงุฑูุฎ (ูู - ุฅูู)</label>
        <div class="flex gap-2">
          <input class="ui-field w-1/2" id="cases-filter-dfrom" onchange="onCasesAdvancedChanged()" type="date"/>
          <input class="ui-field w-1/2" id="cases-filter-dto" onchange="onCasesAdvancedChanged()" type="date"/>
        </div>
      </div>

      <div class="ui-control ui-stack">
        <label class="ui-label">ููุงุนูุฏ ูุงุฏูุฉ ููุท</label>
        <label class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-200">
          <input id="cases-filter-upcoming" onchange="onCasesAdvancedChanged()" type="checkbox"/>
          <span>ุนุฑุถ ุงููุถุงูุง ุฐุงุช ุงูููุงุนูุฏ ุงููุงุฏูุฉ</span>
        </label>
      </div>
    </div>

    <div class="mt-3 flex justify-end">
      <button class="btn-ui btn-reset" onclick="resetCasesAdvanced()" type="button">ุฅุนุงุฏุฉ ุถุจุท</button>
    </div>
  </div>

  <!-- Table -->
  <div class="table-wrap bg-white shadow-sm">
    <table class="ui-table min-w-full text-right">
      <thead>
        <tr>
          <th>ุงูููุน</th>
          <th>ุงูุฑูู</th>
          <th>ุงูุชุงุฑูุฎ</th>
          <th>ุงูุฌูุฉ/ุงููุญููุฉ</th>
          <th>ุงููุณุชุฃุฌุฑ</th>
          <th>ุงูุนูุงุฑ</th>
          <th>ุงููุญุฏุฉ</th>
          <th>ุงูุญุงูุฉ</th>
          <th>ุฃูุฑุจ ููุนุฏ</th>
          <th>ุงูุฅุฌุฑุงุกุงุช</th>
        </tr>
      </thead>
      <tbody id="cases-table-body"></tbody>
    </table>
  </div>

  <div class="pager-wrap" id="cases-pager"></div>

  <!-- Details Panel -->
  <div id="cases-details-panel" class="hidden mt-5">
    <div class="card-glass p-4 md:p-5">
      <div class="flex flex-wrap items-center justify-between gap-3 mb-4">
        <div>
          <div class="text-lg font-bold text-gray-800 dark:text-white" id="case-details-title">ุชูุงุตูู</div>
          <div class="text-xs text-gray-500 dark:text-gray-400" id="case-details-sub"></div>
        </div>
        <div class="flex flex-wrap gap-2">
          <button class="btn-ui btn-secondary" onclick="openCaseModal(window.__currentCaseId || '')" type="button">โ๏ธ ุชุนุฏูู</button>
          
          <button class="btn-ui btn-secondary" onclick="openCaseAttachmentsViewer(window.__currentCaseId || \'\')" type="button">๐ ุงููููุงุช</button>
<button class="btn-ui btn-secondary" onclick="openCaseUpdateModal()" type="button">โ ุฅุถุงูุฉ ุชุทูุฑ</button>
          <button class="btn-ui btn-secondary" onclick="openCaseEventModal()" type="button">๐ ุฅุถุงูุฉ ููุนุฏ</button>
          <button class="btn-ui btn-reset" onclick="closeCaseDetails()" type="button">ุฅุบูุงู</button>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <div class="lg:col-span-1">
          <div class="text-sm font-bold text-gray-800 dark:text-white mb-2">ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ</div>
          <div id="case-details-basic" class="text-sm text-gray-700 dark:text-gray-200 space-y-1"></div>
        </div>

        <div class="lg:col-span-2">
          <div class="flex flex-wrap gap-2 mb-3">
            <button class="btn-ui btn-filter" id="case-tab-updates" onclick="switchCaseTab('updates')" type="button">๐งพ ุงูุชุทูุฑุงุช</button>
            <button class="btn-ui btn-filter" id="case-tab-events" onclick="switchCaseTab('events')" type="button">โฐ ุงูููุงุนูุฏ ูุงูุชูุจููุงุช</button>
          </div>

          <div id="case-tab-updates-panel">
            <div id="case-updates-list" class="space-y-2"></div>
          </div>

          <div id="case-tab-events-panel" class="hidden">
            <div id="case-events-list" class="space-y-2"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
